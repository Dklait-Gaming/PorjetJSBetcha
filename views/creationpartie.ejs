<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Création de partie</title>
    <link rel="shortcut icon" type="image/x-icon" href="http://image.noelshack.com/fichiers/2021/43/2/1635249876-unnamed-1.png" />
    <script src="https://kit.fontawesome.com/2785f68fd9.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" media="screen" type="text/css" href="../views/Style/style.css"/>


<!-- script du design     -->
    <style>
        body {
    padding: 0;
    margin: 0;
    font-family: Arial, Helvetica, sans-serif;
    background-color: #FFC0CB;
}
  
.topnav {
    overflow: hidden;
    background-color: #333;
}
  
.topnav a {
    float: left;
    color: #f2f2f2;
    text-align: center;
    padding: 14px 16px;
    text-decoration: none;
    font-size: 17px;
}
  
.topnav a:hover {
    background-color: #ddd;
    color: black;
}
  
.topnav a.active {
    background-color: royalblue;
    color: white;
}


/*Page d'accueil*/

h1{
    animation: text 6s steps(38) infinite alternate;
    overflow: hidden;
    white-space: nowrap;
    font-family: 'consolas';
    font-size: 60px;
    width: 0ch;
    border-right: 3px solid black;
}

@keyframes text{
    0%{
        width:0ch;
    }
    50%{
        width: 38ch;
    }
}


h2{
    font-size: 40px;
    color: royalblue;
    font-family: sans-serif;
}


p{
    font-size: 30px;
    font-family: 'sans-serif';
}


    </style>

</head>


<script>
   document.addEventListener('DOMContentLoaded',()=>{    

fetch('/creationpartie').then((data)=>{
    return data.json()
}).then( (creationpartie) => {
    let usersUl = document.querySelector(".creationpartie")
    for (const [i,user] of users.entries()) {
        console.log("user:" + user.nom);
        let userLi = document.createElement("li")
        usersUl.appendChild(userLi)
        let userUl = document.createElement("ul")
        userLi.appendChild(userUl)
        userLi.innerHTML = user.name + user.Adversaire + user.etatpartie + user.createurpartie + user.mise , "<form method='POST' action='/users/" + i + "?_method=DELETE'><button type='submit'>X</button></form>"
    }
})
}) 
</script>


<body>

        <div class="topnav">
            <a class="active" href="http://localhost:3000/">Accueil <i class="fas fa-home"></i></a>
            <a href="http://localhost:3000/inscription">Inscription <i class="fas fa-user-plus"></i></a>
            <a href="http://localhost:3000/connexion">Connexion <i class="fas fa-address-card"></i></a>
            <a href="http://localhost:3000/create_game">Créer une partie <i class="fas fa-plus-square"></i></a>
            <a href="http://localhost:3000/game">Jouer <i class="fas fa-gamepad"></i></a>
            <a href="http://localhost:3000/">Deconnexion <i class=""></i></a>
        </div>

 <form action="/create_game" method="post">  
        <center>
            <h2>Création de la partie</h2>
            <label for="name">Nom de la partie : </label>
            <input type="text" placeholder="Le nom de la partie" id="name" name="name" required minlength="1" maxlength="99" value="">
     
            <label for="Adversaire">Nom de l'adversaire : </label>
            <input type="text" placeholder="L'adversaire" id="Adversaire" name="Adversaire" required minlength="1" maxlength="99" value="">

            <label for="etatpartie">Etat de la partie : </label>
            <input type="text" placeholder="L'état de la partie" id="etatpartie" name="etatpartie" required minlength="1" maxlength="99" value="">

            <label for="createurpartie">Créateur de la partie : </label>
            <input type="text" placeholder="Le nom du créateur" id="creationpartie" name="Createurpartie" required minlength="1" maxlength="99" value="">

            <input type="submit" value="Valider">
            <input type="reset" value="annuler">
    </center>
</form>

<!-- Pour lister les parties -->

<center>
<br>
<br>
<br>

<strong><p>Liste des parties</p></strong>

        <% AllParties.forEach(function(partie){ %>
        Nom de la partie :<li><%= partie.name %></li>
        Nom de l'adversaire :<li><%= partie.Adversaire %></li>
        Etat de la partie :<li><%= partie.etatpartie %></li>
        Créateur de la partie :<li><%= partie.Createurpartie %></li>
        <% }) %>
</center>

<!-- Pour lister les parties -->



    <script src="../views/serveur.js"></script> 

</body>
</html>